{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport axios from 'axios';\nconst api = axios.create({\n  //baseURL: 'http://10.4.22.73:8080/', //local\n  // baseURL: 'http://10.4.22.184/', //local\n  // baseURL : 'http://ec2-34-244-178-211.eu-west-1.compute.amazonaws.com/', //live\n  // baseURL: 'https://sohocrm-api.herokuapp.com/',\n  baseURL: 'http://62.252.239.190:8080/',\n  // baseURL: 'http://localhost:8080',\n  headers: {\n    Apptoken: '9870d04b-cac2-4c7c-933f-9cf647a04a06' // Authorization: window.localStorage.getItem('authToken')||\"\",\n\n  }\n});\napi.interceptors.request.use(function (config) {\n  // Do something before request is sent\n  console.log(localStorage.getItem('authToken'));\n\n  if (!localStorage.getItem('authToken') && localStorage.getItem('authToken') === null && window.location.pathname !== '/login') {\n    window.location.href = '/login';\n  } else {\n    config.headers['Authorization'] = localStorage.getItem('authToken');\n  }\n\n  return config;\n}, function (error) {\n  // Do something with request error\n  return _Promise.reject(error);\n});\nexport const toFormData = object => {\n  const formData = new FormData();\n\n  _Object$keys(object).forEach(key => {\n    formData.append(key, object[key]);\n  });\n\n  return formData;\n}; // export const url=\"http://10.4.22.184:8082/fileAccess/\"\n\nexport default api;","map":{"version":3,"sources":["F:\\Shrinath\\Technoark\\allPros\\lib\\api.js"],"names":["axios","api","create","baseURL","headers","Apptoken","interceptors","request","use","config","console","log","localStorage","getItem","window","location","pathname","href","error","reject","toFormData","object","formData","FormData","forEach","key","append"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;AACrB;AACA;AACA;AACA;AACAC,EAAAA,OAAO,EAAE,6BALY;AAMrB;AACAC,EAAAA,OAAO,EAAE;AACLC,IAAAA,QAAQ,EAAE,sCADL,CAEL;;AAFK;AAPY,CAAb,CAAZ;AAaAJ,GAAG,CAACK,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CACI,UAASC,MAAT,EAAiB;AACb;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAZ;;AACA,MACI,CAACD,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAD,IACAD,YAAY,CAACC,OAAb,CAAqB,WAArB,MAAsC,IADtC,IAEAC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,QAHjC,EAIE;AACEF,IAAAA,MAAM,CAACC,QAAP,CAAgBE,IAAhB,GAAuB,QAAvB;AACH,GAND,MAMO;AACHR,IAAAA,MAAM,CAACL,OAAP,CAAe,eAAf,IAAkCQ,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlC;AACH;;AACD,SAAOJ,MAAP;AACH,CAdL,EAeI,UAASS,KAAT,EAAgB;AACZ;AACA,SAAO,SAAQC,MAAR,CAAeD,KAAf,CAAP;AACH,CAlBL;AAqBA,OAAO,MAAME,UAAU,GAAGC,MAAM,IAAI;AAChC,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;;AACA,eAAYF,MAAZ,EAAoBG,OAApB,CAA4BC,GAAG,IAAI;AAC/BH,IAAAA,QAAQ,CAACI,MAAT,CAAgBD,GAAhB,EAAqBJ,MAAM,CAACI,GAAD,CAA3B;AACH,GAFD;;AAGA,SAAOH,QAAP;AACH,CANM,C,CAQP;;AAEA,eAAerB,GAAf","sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    //baseURL: 'http://10.4.22.73:8080/', //local\r\n    // baseURL: 'http://10.4.22.184/', //local\r\n    // baseURL : 'http://ec2-34-244-178-211.eu-west-1.compute.amazonaws.com/', //live\r\n    // baseURL: 'https://sohocrm-api.herokuapp.com/',\r\n    baseURL: 'http://62.252.239.190:8080/',\r\n    // baseURL: 'http://localhost:8080',\r\n    headers: {\r\n        Apptoken: '9870d04b-cac2-4c7c-933f-9cf647a04a06',\r\n        // Authorization: window.localStorage.getItem('authToken')||\"\",\r\n    },\r\n});\r\n\r\napi.interceptors.request.use(\r\n    function(config) {\r\n        // Do something before request is sent\r\n        console.log(localStorage.getItem('authToken'))\r\n        if (\r\n            !localStorage.getItem('authToken') &&\r\n            localStorage.getItem('authToken') === null &&\r\n            window.location.pathname !== '/login'\r\n        ) {\r\n            window.location.href = '/login';\r\n        } else {\r\n            config.headers['Authorization'] = localStorage.getItem('authToken');\r\n        }\r\n        return config;\r\n    },\r\n    function(error) {\r\n        // Do something with request error\r\n        return Promise.reject(error);\r\n    },\r\n);\r\n\r\nexport const toFormData = object => {\r\n    const formData = new FormData();\r\n    Object.keys(object).forEach(key => {\r\n        formData.append(key, object[key]);\r\n    });\r\n    return formData;\r\n};\r\n\r\n// export const url=\"http://10.4.22.184:8082/fileAccess/\"\r\n\r\nexport default api;\r\n"]},"metadata":{},"sourceType":"module"}